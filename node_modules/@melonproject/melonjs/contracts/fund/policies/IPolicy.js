"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Contract_1 = require("../../../Contract");
const IPolicy_abi_1 = require("../../../abis/IPolicy.abi");
const web3_utils_1 = require("web3-utils");
class IPolicy extends Contract_1.Contract {
    /**
     * Gets the identifier of a policy.
     *
     * @param block The block number to execute the call on.
     */
    getIdentifier(block) {
        return this.makeCall('identifier', undefined, block);
    }
    /**
     * Gets the position of a policy (0: pre, 1: post).
     *
     * @param block The block number to execute the call on.
     */
    getPosition(block) {
        return this.makeCall('position', undefined, block);
    }
    /**
     * Checks wheter a rule is true or false
     *
     * @param args The arguments for the rule
     * @param block The block number to execute the call on.
     */
    rule(args, block) {
        return this.makeCall('rule', [
            web3_utils_1.hexToBytes(args.signature),
            args.addresses,
            args.values.map((value) => value.toFixed(0)),
            web3_utils_1.hexToBytes(args.identifier),
        ], block);
    }
}
exports.IPolicy = IPolicy;
IPolicy.abi = IPolicy_abi_1.IPolicyAbi;
